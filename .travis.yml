git:
  depth: 1

os:
  - linux
  - osx
dist: xenial

addons:
  homebrew:
    brewfile: true
  apt:
    packages:
      - autoconf
      - automake
      - build-essential
      - cmake
      - git
      - libass-dev
      - libbz2-dev
      - libfontconfig1-dev
      - libfreetype6-dev
      - libfribidi-dev
      - libharfbuzz-dev
      - libjansson-dev
      - liblzma-dev
      - libmp3lame-dev
      - libogg-dev
      - libopus-dev
      - libsamplerate-dev
      - libspeex-dev
      - libtheora-dev
      - libtool
      - libtool-bin
      - libvorbis-dev
      - libx264-dev
      - libxml2-dev
      - m4
      - make
      - nasm
      - patch
      - pkg-config
      - python
      - tar
      - yasm
      - zlib1g-dev
      - intltool
      - libappindicator-dev
      - libdbus-glib-1-dev
      - libglib2.0-dev
      - libgstreamer1.0-dev
      - libgstreamer-plugins-base1.0-dev
      - libgtk-3-dev
      - libgudev-1.0-dev
      - libnotify-dev
      - libwebkitgtk-3.0-dev

language: c

script:
- travis_wait 50 ./configure --disable-gtk --disable-gst --launch --launch-jobs=0
