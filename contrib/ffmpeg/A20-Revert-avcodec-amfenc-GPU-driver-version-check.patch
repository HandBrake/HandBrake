From 740fae4531c5c5ad6146503682ae0d69ca25e974 Mon Sep 17 00:00:00 2001
From: Damiano Galassi <damiog@gmail.com>
Date: Sat, 19 Oct 2024 09:50:44 +0200
Subject: [PATCH 18/20] Revert "avcodec/amfenc: GPU driver version check"

This reverts commit eda3fc60534c4a30f49c930611d4130427d08ff1.

There is hardware with HEVC 10-bit encoders that has no updated drivers yet.
---
 libavcodec/amfenc.c | 4 ----
 1 file changed, 4 deletions(-)

diff --git a/libavcodec/amfenc.c b/libavcodec/amfenc.c
index b16b642e4c..4244e5b35b 100644
--- a/libavcodec/amfenc.c
+++ b/libavcodec/amfenc.c
@@ -173,10 +173,6 @@ static int amf_init_encoder(AVCodecContext *avctx)
     else
         pix_fmt = avctx->pix_fmt;
 
-    if (pix_fmt == AV_PIX_FMT_P010) {
-        AMF_RETURN_IF_FALSE(ctx, amf_device_ctx->version >= AMF_MAKE_FULL_VERSION(1, 4, 32, 0), AVERROR_UNKNOWN, "10-bit encoder is not supported by AMD GPU drivers versions lower than 23.30.\n");
-    }
-
     ctx->format = av_av_to_amf_format(pix_fmt);
     AMF_RETURN_IF_FALSE(ctx, ctx->format != AMF_SURFACE_UNKNOWN, AVERROR(EINVAL),
                         "Format %s is not supported\n", av_get_pix_fmt_name(pix_fmt));
-- 
2.39.5 (Apple Git-154)

